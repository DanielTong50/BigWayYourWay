import { c as create_ssr_component, e as escape, d as add_attribute } from "../../chunks/ssr.js";
const css = {
  code: "main.svelte-9p6x64.svelte-9p6x64{padding:2rem 1rem;max-width:600px;margin:0 auto}.header.svelte-9p6x64.svelte-9p6x64{text-align:center;margin-bottom:2rem}h1.svelte-9p6x64.svelte-9p6x64{font-size:2rem;margin-bottom:1.5rem;line-height:1.2}.queue-status.svelte-9p6x64.svelte-9p6x64{text-align:center;font-size:1.5rem;font-weight:500;margin:2rem 0}.waitlist-form.svelte-9p6x64.svelte-9p6x64{display:flex;flex-direction:column;gap:1rem}.form-group.svelte-9p6x64.svelte-9p6x64{display:flex;flex-direction:column}.form-group.svelte-9p6x64 label.svelte-9p6x64{margin-bottom:0.5rem;color:#666;font-size:0.9rem}.help-text.svelte-9p6x64.svelte-9p6x64{color:#666;font-size:0.8rem;margin-top:0.25rem}input.svelte-9p6x64.svelte-9p6x64::placeholder{color:#999}.terms.svelte-9p6x64.svelte-9p6x64{margin-top:1rem;font-size:0.875rem;color:#666;text-align:center}.success-message.svelte-9p6x64.svelte-9p6x64{background-color:#e6ffe6;border:1px solid #b3ffb3;padding:1rem;border-radius:8px;margin-bottom:1rem;text-align:center}.error-message.svelte-9p6x64.svelte-9p6x64{background-color:#ffe6e6;border:1px solid #ffb3b3;padding:1rem;border-radius:8px;margin-bottom:1rem;text-align:center;color:#cc0000}button[disabled].svelte-9p6x64.svelte-9p6x64{opacity:0.7;cursor:not-allowed}@media(max-width: 480px){main.svelte-9p6x64.svelte-9p6x64{padding:1rem}h1.svelte-9p6x64.svelte-9p6x64{font-size:1.75rem}}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n  import { onMount } from 'svelte';\\n\\n  let partySize = \\"4\\";\\n  let currentParties = 0;\\n  let name = \\"\\";\\n  let phone = \\"\\";\\n  let submitting = false;\\n  let error = null;\\n  let success = null;\\n  let queuePosition = null;\\n\\n  // Function to format phone number\\n  function formatPhoneNumber(value) {\\n    // Remove all non-digits\\n    const cleaned = value.replace(/\\\\D/g, '');\\n    \\n    // Format the number as (XXX) XXX-XXXX\\n    if (cleaned.length >= 10) {\\n      return \`(\${cleaned.slice(0,3)}) \${cleaned.slice(3,6)}-\${cleaned.slice(6,10)}\`;\\n    }\\n    return cleaned;\\n  }\\n\\n  // Function to validate phone number\\n  function validatePhoneNumber(value) {\\n    const cleaned = value.replace(/\\\\D/g, '');\\n    return cleaned.length === 10;\\n  }\\n\\n  // Handle phone input changes\\n  function handlePhoneInput(event) {\\n    const input = event.target;\\n    const formatted = formatPhoneNumber(input.value);\\n    phone = formatted;\\n  }\\n\\n  onMount(async () => {\\n    await updateQueueCount();\\n    // Update queue count every 30 seconds\\n    setInterval(updateQueueCount, 30000);\\n  });\\n\\n  async function updateQueueCount() {\\n    try {\\n      const response = await fetch('/api/waitlist');\\n      const data = await response.json();\\n      if (data.count !== undefined) {\\n        currentParties = data.count;\\n      }\\n    } catch (err) {\\n      console.error('Error fetching queue count:', err);\\n    }\\n  }\\n\\n  async function handleSubmit(event) {\\n    event.preventDefault();\\n    error = null;\\n    success = null;\\n\\n    // Validate phone number\\n    if (!validatePhoneNumber(phone)) {\\n      error = 'Please enter a valid 10-digit phone number';\\n      return;\\n    }\\n\\n    submitting = true;\\n\\n    try {\\n      const response = await fetch('/api/waitlist', {\\n        method: 'POST',\\n        headers: {\\n          'Content-Type': 'application/json',\\n        },\\n        body: JSON.stringify({\\n          name,\\n          phone: phone.replace(/\\\\D/g, ''), // Send only digits to server\\n          partySize\\n        })\\n      });\\n\\n      const data = await response.json();\\n\\n      if (response.ok) {\\n        success = true;\\n        queuePosition = data.position;\\n        name = \\"\\";\\n        phone = \\"\\";\\n        partySize = \\"4\\";\\n        await updateQueueCount();\\n      } else {\\n        error = data.error || 'Failed to join the waitlist';\\n      }\\n    } catch (err) {\\n      error = 'Failed to connect to the server';\\n      console.error('Error submitting form:', err);\\n    }\\n\\n    submitting = false;\\n  }\\n<\/script>\\n\\n<main>\\n  <div class=\\"header\\">\\n    <h1>Big Way Your Way<br />(UBC)</h1>\\n  </div>\\n\\n  <div class=\\"queue-status\\">\\n    <p>There are currently {currentParties} parties in line</p>\\n  </div>\\n\\n  {#if success}\\n    <div class=\\"success-message\\">\\n      <p>Successfully joined the waitlist!</p>\\n      <p>Your position in line: {queuePosition}</p>\\n    </div>\\n  {/if}\\n\\n  {#if error}\\n    <div class=\\"error-message\\">\\n      <p>{error}</p>\\n    </div>\\n  {/if}\\n\\n  <form class=\\"waitlist-form\\" on:submit={handleSubmit}>\\n    <div class=\\"form-group\\">\\n      <label for=\\"name\\">Name*</label>\\n      <input \\n        type=\\"text\\" \\n        id=\\"name\\" \\n        bind:value={name}\\n        required \\n        disabled={submitting}\\n        placeholder=\\"Enter your name\\"\\n      />\\n    </div>\\n    \\n    <div class=\\"form-group\\">\\n      <label for=\\"phone\\">Mobile Number*</label>\\n      <input \\n        type=\\"tel\\" \\n        id=\\"phone\\" \\n        value={phone}\\n        on:input={handlePhoneInput}\\n        required \\n        disabled={submitting}\\n        placeholder=\\"(123) 456-7890\\"\\n      />\\n      <small class=\\"help-text\\">Enter a 10-digit phone number</small>\\n    </div>\\n    \\n    <div class=\\"form-group\\">\\n      <label for=\\"party-size\\">Party Size*</label>\\n      <select \\n        id=\\"party-size\\" \\n        bind:value={partySize}\\n        disabled={submitting}\\n      >\\n        <option value=\\"1\\">Party of 1</option>\\n        <option value=\\"2\\">Party of 2</option>\\n        <option value=\\"3\\">Party of 3</option>\\n        <option value=\\"4\\">Party of 4</option>\\n        <option value=\\"5\\">Party of 5</option>\\n        <option value=\\"6\\">Party of 6</option>\\n        <option value=\\"7\\">Party of 7</option>\\n        <option value=\\"8\\">Party of 8</option>\\n      </select>\\n    </div>\\n\\n    <button type=\\"submit\\" disabled={submitting}>\\n      {submitting ? 'JOINING...' : 'JOIN THE LINE NOW'}\\n    </button>\\n\\n    <p class=\\"terms\\">\\n        This is a beta testing model step 1 out of 5\\n    </p>\\n  </form>\\n</main>\\n\\n<style>\\n  main {\\n    padding: 2rem 1rem;\\n    max-width: 600px;\\n    margin: 0 auto;\\n  }\\n\\n  .header {\\n    text-align: center;\\n    margin-bottom: 2rem;\\n  }\\n\\n  h1 {\\n    font-size: 2rem;\\n    margin-bottom: 1.5rem;\\n    line-height: 1.2;\\n  }\\n\\n  .queue-status {\\n    text-align: center;\\n    font-size: 1.5rem;\\n    font-weight: 500;\\n    margin: 2rem 0;\\n  }\\n\\n  .waitlist-form {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 1rem;\\n  }\\n\\n  .form-group {\\n    display: flex;\\n    flex-direction: column;\\n  }\\n\\n  .form-group label {\\n    margin-bottom: 0.5rem;\\n    color: #666;\\n    font-size: 0.9rem;\\n  }\\n\\n  .help-text {\\n    color: #666;\\n    font-size: 0.8rem;\\n    margin-top: 0.25rem;\\n  }\\n\\n  input::placeholder {\\n    color: #999;\\n  }\\n\\n  .terms {\\n    margin-top: 1rem;\\n    font-size: 0.875rem;\\n    color: #666;\\n    text-align: center;\\n  }\\n\\n  .success-message {\\n    background-color: #e6ffe6;\\n    border: 1px solid #b3ffb3;\\n    padding: 1rem;\\n    border-radius: 8px;\\n    margin-bottom: 1rem;\\n    text-align: center;\\n  }\\n\\n  .error-message {\\n    background-color: #ffe6e6;\\n    border: 1px solid #ffb3b3;\\n    padding: 1rem;\\n    border-radius: 8px;\\n    margin-bottom: 1rem;\\n    text-align: center;\\n    color: #cc0000;\\n  }\\n\\n  button[disabled] {\\n    opacity: 0.7;\\n    cursor: not-allowed;\\n  }\\n\\n  @media (max-width: 480px) {\\n    main {\\n      padding: 1rem;\\n    }\\n\\n    h1 {\\n      font-size: 1.75rem;\\n    }\\n  }\\n</style> "],"names":[],"mappings":"AAoLE,gCAAK,CACH,OAAO,CAAE,IAAI,CAAC,IAAI,CAClB,SAAS,CAAE,KAAK,CAChB,MAAM,CAAE,CAAC,CAAC,IACZ,CAEA,mCAAQ,CACN,UAAU,CAAE,MAAM,CAClB,aAAa,CAAE,IACjB,CAEA,8BAAG,CACD,SAAS,CAAE,IAAI,CACf,aAAa,CAAE,MAAM,CACrB,WAAW,CAAE,GACf,CAEA,yCAAc,CACZ,UAAU,CAAE,MAAM,CAClB,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,GAAG,CAChB,MAAM,CAAE,IAAI,CAAC,CACf,CAEA,0CAAe,CACb,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,GAAG,CAAE,IACP,CAEA,uCAAY,CACV,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAClB,CAEA,yBAAW,CAAC,mBAAM,CAChB,aAAa,CAAE,MAAM,CACrB,KAAK,CAAE,IAAI,CACX,SAAS,CAAE,MACb,CAEA,sCAAW,CACT,KAAK,CAAE,IAAI,CACX,SAAS,CAAE,MAAM,CACjB,UAAU,CAAE,OACd,CAEA,iCAAK,aAAc,CACjB,KAAK,CAAE,IACT,CAEA,kCAAO,CACL,UAAU,CAAE,IAAI,CAChB,SAAS,CAAE,QAAQ,CACnB,KAAK,CAAE,IAAI,CACX,UAAU,CAAE,MACd,CAEA,4CAAiB,CACf,gBAAgB,CAAE,OAAO,CACzB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,OAAO,CAAE,IAAI,CACb,aAAa,CAAE,GAAG,CAClB,aAAa,CAAE,IAAI,CACnB,UAAU,CAAE,MACd,CAEA,0CAAe,CACb,gBAAgB,CAAE,OAAO,CACzB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,OAAO,CAAE,IAAI,CACb,aAAa,CAAE,GAAG,CAClB,aAAa,CAAE,IAAI,CACnB,UAAU,CAAE,MAAM,CAClB,KAAK,CAAE,OACT,CAEA,MAAM,CAAC,QAAQ,6BAAE,CACf,OAAO,CAAE,GAAG,CACZ,MAAM,CAAE,WACV,CAEA,MAAO,YAAY,KAAK,CAAE,CACxB,gCAAK,CACH,OAAO,CAAE,IACX,CAEA,8BAAG,CACD,SAAS,CAAE,OACb,CACF"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let currentParties = 0;
  let name = "";
  let phone = "";
  $$result.css.add(css);
  return `<main class="svelte-9p6x64"><div class="header svelte-9p6x64" data-svelte-h="svelte-ef0wlu"><h1 class="svelte-9p6x64">Big Way Your Way<br>(UBC)</h1></div> <div class="queue-status svelte-9p6x64"><p>There are currently ${escape(currentParties)} parties in line</p></div> ${``} ${``} <form class="waitlist-form svelte-9p6x64"><div class="form-group svelte-9p6x64"><label for="name" class="svelte-9p6x64" data-svelte-h="svelte-1818dak">Name*</label> <input type="text" id="name" required ${""} placeholder="Enter your name" class="svelte-9p6x64"${add_attribute("value", name)}></div> <div class="form-group svelte-9p6x64"><label for="phone" class="svelte-9p6x64" data-svelte-h="svelte-28krx7">Mobile Number*</label> <input type="tel" id="phone"${add_attribute("value", phone)} required ${""} placeholder="(123) 456-7890" class="svelte-9p6x64"> <small class="help-text svelte-9p6x64" data-svelte-h="svelte-107v8w3">Enter a 10-digit phone number</small></div> <div class="form-group svelte-9p6x64"><label for="party-size" class="svelte-9p6x64" data-svelte-h="svelte-jcslhj">Party Size*</label> <select id="party-size" ${""}><option value="1" data-svelte-h="svelte-1k5nnv5">Party of 1</option><option value="2" data-svelte-h="svelte-jrq3jp">Party of 2</option><option value="3" data-svelte-h="svelte-sho1kp">Party of 3</option><option value="4" data-svelte-h="svelte-17vvu3p">Party of 4</option><option value="5" data-svelte-h="svelte-1w5od9t">Party of 5</option><option value="6" data-svelte-h="svelte-m06p99">Party of 6</option><option value="7" data-svelte-h="svelte-alg89">Party of 7</option><option value="8" data-svelte-h="svelte-1qasg65">Party of 8</option></select></div> <button type="submit" ${""} class="svelte-9p6x64">${escape("JOIN THE LINE NOW")}</button> <p class="terms svelte-9p6x64" data-svelte-h="svelte-1jid0e7">This is a beta testing model step 1 out of 5</p></form> </main>`;
});
export {
  Page as default
};
